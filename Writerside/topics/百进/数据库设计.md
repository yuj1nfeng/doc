```sql
-- public.device definition

-- Drop table

-- DROP TABLE public.device;

CREATE TABLE public.device (
	device_id varchar(36) NOT NULL,
	hall_id varchar(36) NULL,
	seat_number varchar(36) NULL,
	"name" varchar(128) NULL,
	pc_name varchar(128) NULL,
	ip_addr varchar(128) NULL,
	"desc" varchar(512) NULL,
	heartbeat timestamp NULL,
	create_at timestamptz NOT NULL,
	update_at timestamptz NOT NULL,
	CONSTRAINT device_pkey PRIMARY KEY (device_id)
);


-- public."download.task" definition

-- Drop table

-- DROP TABLE public."download.task";

CREATE TABLE public."download.task" (
	task_id varchar(36) NOT NULL,
	exam_id varchar(36) NOT NULL,
	hall_id varchar(36) NOT NULL,
	paper_id varchar(36) NULL,
	item_id varchar(36) NULL,
	package_path varchar(256) NULL,
	create_at timestamptz NOT NULL,
	update_at timestamptz NOT NULL,
	CONSTRAINT "download.task_pkey" PRIMARY KEY (task_id)
);


-- public.exam definition

-- Drop table

-- DROP TABLE public.exam;

CREATE TABLE public.exam (
	exam_id varchar(36) NOT NULL,
	title varchar(36) NOT NULL,
	hall_id varchar(36) NOT NULL,
	main_paper json NULL,
	main_paper_name varchar(36) NULL,
	optional_papers json NULL,
	optional_papers_count int4 NULL,
	all_papers json NULL,
	duration int4 NULL,
	start_time timestamp NULL,
	deadline timestamp NULL,
	finish_time timestamp NULL,
	status varchar(36) DEFAULT 'not_started'::character varying NULL,
	remark varchar(256) NULL,
	create_at timestamptz NOT NULL,
	update_at timestamptz NOT NULL,
	CONSTRAINT exam_pkey PRIMARY KEY (exam_id)
);


-- public."exam.paper" definition

-- Drop table

-- DROP TABLE public."exam.paper";

CREATE TABLE public."exam.paper" (
	exam_id varchar(36) NOT NULL,
	paper_id varchar(36) NOT NULL,
	score numeric(11, 2) NULL,
	create_at timestamptz NOT NULL,
	update_at timestamptz NOT NULL,
	CONSTRAINT "exam.paper_pkey" PRIMARY KEY (exam_id, paper_id)
);


-- public.hall definition

-- Drop table

-- DROP TABLE public.hall;

CREATE TABLE public.hall (
	hall_id varchar(36) NOT NULL,
	"name" varchar(128) NULL,
	status varchar(36) DEFAULT 'free'::character varying NULL,
	"desc" varchar(512) NULL,
	create_at timestamptz NOT NULL,
	update_at timestamptz NOT NULL,
	CONSTRAINT hall_pkey PRIMARY KEY (hall_id)
);


-- public.lib definition

-- Drop table

-- DROP TABLE public.lib;

CREATE TABLE public.lib (
	lib_id varchar(36) NOT NULL,
	"name" varchar(100) NOT NULL,
	"type" varchar(36) NULL,
	"desc" varchar(512) NULL,
	create_at timestamptz NOT NULL,
	update_at timestamptz NOT NULL,
	CONSTRAINT lib_pkey PRIMARY KEY (lib_id)
);


-- public.major definition

-- Drop table

-- DROP TABLE public.major;

CREATE TABLE public.major (
	major_id varchar(36) NOT NULL,
	parent_id varchar(36) NULL,
	"name" varchar(100) NULL,
	"desc" varchar(512) NULL,
	create_at timestamptz NOT NULL,
	update_at timestamptz NOT NULL,
	CONSTRAINT major_pkey PRIMARY KEY (major_id)
);


-- public.paper definition

-- Drop table

-- DROP TABLE public.paper;

CREATE TABLE public.paper (
	paper_id varchar(36) NOT NULL,
	"name" varchar(100) NOT NULL,
	"type" varchar(36) NULL,
	"desc" varchar(256) NULL,
	image varchar(128) NULL,
	score numeric(11, 2) NULL,
	create_at timestamptz NOT NULL,
	update_at timestamptz NOT NULL,
	CONSTRAINT paper_pkey PRIMARY KEY (paper_id)
);


-- public."paper.item" definition

-- Drop table

-- DROP TABLE public."paper.item";

CREATE TABLE public."paper.item" (
	item_id varchar(36) NOT NULL,
	paper_id varchar(36) NOT NULL,
	question_id varchar(36) NOT NULL,
	"type" varchar(36) NULL,
	"order" int4 NULL,
	difficulty int4 NULL,
	title varchar(100) NULL,
	items json NULL,
	major varchar(36) NULL,
	score numeric(11, 2) NULL,
	package_path varchar(256) NULL,
	"attach" varchar(512) NULL,
	create_at timestamptz NOT NULL,
	update_at timestamptz NOT NULL,
	CONSTRAINT "paper.item_pkey" PRIMARY KEY (item_id)
);


-- public.question definition

-- Drop table

-- DROP TABLE public.question;

CREATE TABLE public.question (
	question_id varchar(36) NOT NULL,
	"order" int4 NULL,
	lib_id varchar(36) NULL,
	"type" varchar(36) NULL,
	difficulty varchar(36) NULL,
	title varchar(100) NULL,
	title_img varchar(256) NULL,
	items json NULL,
	package_path varchar(256) NULL,
	major varchar(36) NULL,
	score numeric(11, 2) NULL,
	"attach" varchar(512) NULL,
	"desc" varchar(512) NULL,
	create_at timestamptz NOT NULL,
	update_at timestamptz NOT NULL,
	CONSTRAINT question_pkey PRIMARY KEY (question_id)
);


-- public."role" definition

-- Drop table

-- DROP TABLE public."role";

CREATE TABLE public."role" (
	role_id varchar(36) NOT NULL,
	"name" varchar(100) NULL,
	status int4 NULL,
	order_num int4 NULL,
	"desc" varchar(512) NULL,
	create_at timestamptz NOT NULL,
	update_at timestamptz NOT NULL,
	CONSTRAINT role_pkey PRIMARY KEY (role_id)
);


-- public."stu.exam" definition

-- Drop table

-- DROP TABLE public."stu.exam";

CREATE TABLE public."stu.exam" (
	exam_id varchar(36) NOT NULL,
	stu_id varchar(36) NOT NULL,
	hall_id varchar(36) NOT NULL,
	main_paper_answers json NULL,
	optional_paper_id varchar(36) NULL,
	optional_paper_answers json NULL,
	status varchar(36) NULL,
	scores json NULL,
	video_path varchar(256) NULL,
	create_at timestamptz NOT NULL,
	update_at timestamptz NOT NULL,
	CONSTRAINT "stu.exam_pkey" PRIMARY KEY (exam_id, stu_id)
);


-- public."stu.exam.detail" definition

-- Drop table

-- DROP TABLE public."stu.exam.detail";

CREATE TABLE public."stu.exam.detail" (
	exam_id varchar(36) NOT NULL,
	stu_id varchar(36) NOT NULL,
	paper_id varchar(36) NOT NULL,
	item_id varchar(36) NOT NULL,
	item_type varchar(36) NOT NULL,
	item_content json NULL,
	step_name varchar(36) NOT NULL,
	submited_answer text NULL,
	submit_time timestamp NULL,
	score numeric(10, 2) NULL,
	create_at timestamptz NOT NULL,
	update_at timestamptz NOT NULL,
	CONSTRAINT "stu.exam.detail_pkey" PRIMARY KEY (exam_id, stu_id, paper_id, item_id, item_type, step_name)
);


-- public."stu.exam.state" definition

-- Drop table

-- DROP TABLE public."stu.exam.state";

CREATE TABLE public."stu.exam.state" (
	topic varchar(36) NOT NULL,
	exam_id varchar(36) NOT NULL,
	stu_id varchar(36) NOT NULL,
	"key" varchar(36) NOT NULL,
	value json NULL,
	create_at timestamptz NOT NULL,
	update_at timestamptz NOT NULL,
	CONSTRAINT "stu.exam.state_pkey" PRIMARY KEY (topic, exam_id, stu_id, key)
);


-- public."stu.exam.video" definition

-- Drop table

-- DROP TABLE public."stu.exam.video";

CREATE TABLE public."stu.exam.video" (
	video_id varchar(36) NOT NULL,
	exam_id varchar(36) NOT NULL,
	stu_id varchar(36) NOT NULL,
	video_path varchar(256) NULL,
	create_at timestamptz NOT NULL,
	update_at timestamptz NOT NULL,
	CONSTRAINT "stu.exam.video_pkey" PRIMARY KEY (video_id)
);


-- public."stu.state" definition

-- Drop table

-- DROP TABLE public."stu.state";

CREATE TABLE public."stu.state" (
	id serial4 NOT NULL,
	topic varchar(36) NOT NULL,
	exam_id varchar(36) NOT NULL,
	stu_id varchar(36) NOT NULL,
	paper_id varchar(36) NULL,
	item_id varchar(36) NOT NULL,
	answer json NULL,
	submit_state varchar(36) NULL,
	create_at timestamptz NOT NULL,
	update_at timestamptz NOT NULL,
	CONSTRAINT "stu.state_pkey" PRIMARY KEY (id)
);


-- public.student definition

-- Drop table

-- DROP TABLE public.student;

CREATE TABLE public.student (
	stu_id varchar(36) NOT NULL,
	stu_name varchar(100) NULL,
	exam_admision_card varchar(200) NULL,
	seat_number varchar(200) NULL,
	id_number varchar(200) NULL,
	create_at timestamptz NOT NULL,
	update_at timestamptz NOT NULL,
	CONSTRAINT student_pkey PRIMARY KEY (stu_id)
);


-- public.uzer definition

-- Drop table

-- DROP TABLE public.uzer;

CREATE TABLE public.uzer (
	user_id varchar(36) NOT NULL,
	username varchar(100) NULL,
	plain_password varchar(200) NULL,
	login_password varchar(200) NULL,
	create_at timestamptz NOT NULL,
	update_at timestamptz NOT NULL,
	CONSTRAINT uzer_pkey PRIMARY KEY (user_id)
);
```